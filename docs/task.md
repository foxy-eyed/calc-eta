# Задача "Расчёт времени подачи"

Приложение Wheely позволяет вызвать личного водителя. При открытии приложения клиент видит время подачи машины.

Нужно спроектировать и разработать сервис, который будет вычислять время подачи машины с точностью до минуты.

Предполагается следующий алгоритм работы сервиса:
1. Получаем координаты ближайших машин;
2. Получаем время подачи машин;
3. Возвращаем наименьшее время подачи.

## Требования к реализации

1. Корректная работа;
2. Отказоустойчивость;
3. Язык разработки: Golang (предпочтительно) или Ruby;
4. Координаты машин нужно брать через "Сервис координат машин";
5. Время маршрута нужно брать через сервис "Сервис времени маршрута".

## Описание сервисов

### Сервис координат машин
Сервис координат машин выбирает N машин вокруг заданной точки.

Входные данные:
- координата (вокруг которой выбираются машины);
- максимальное количество результатов.

Результат: список координат машин готовых выполнить заказ.

Описание протокола находится в файле [./car-swagger.yml](./car-swagger.yml).

Пример запроса:
```bash
curl 'https://dev-api.wheely.com/fake-eta/cars?lat=55.752992&lng=37.618333&limit=3'

# [{"id":166,"lat":55.7575429,"lng":37.6135117},{"id":229,"lat":55.74837156167371,"lng":37.61180107665421},{"id":8,"lat":55.7532706,"lng":37.6076902}]
```

### Сервис времени маршрута
Сервис времени маршрута рассчитывает время маршрута от списка координат машин к заданной координате.

Входные данные:
- список координат начала маршрута;
- координата окончания маршрута.

Описание протокола находится в файле [./predict-swagger.yml](./predict-swagger.yml).

Примеры запроса:
```bash
curl -X POST -H 'Content-Type: application/json' -d '{"target": {"lat": 55.752992, "lng": 37.618333}, "source": [{"lat":55.7575429, "lng":37.6135117},{"lat":55.74837156167371, "lng":37.61180107665421},{"lat":55.7532706,"lng":37.6076902}]}' 'https://dev-api.wheely.com/fake-eta/predict'

# [1,1,1]
```

## Что учитывается при оценке работы
В проекте обязательно должно быть:
1. Описание того, как запустить сервис;
2. Минимальный набор тестов на бизнес-логику;
3. Выстроенная архитектура проекта.

Дополнительные плюсы:
1. Реализовать кеширование;
2. Использование кодогенерации для создания клиентов к сервисам;
3. Реализовать сценарий для создания docker-образа.
